<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ceres (Pantry)</title>
    <link rel="stylesheet" href="css/pantry.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="icon" type="x-icon" href="images/favicon.png">
    <script src="/app.js" defer></script>
    <script src="/pantry.js"></script>
    <style>@import url('https://fonts.googleapis.com/css2?family=Bitter:ital,wght@0,100..900;1,100..900&display=swap');</style>
</head>
<body>
    <nav id="sidebar" class="close">
        <ul>
            <li>
                <span class="logo">Ceres</span>
                <button onclick=toggleSidebar() id="toggle-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"></path></svg>
                </button>
            </li>
            <li>
                <a href="/ceres">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M240-200h120v-200q0-17 11.5-28.5T400-440h160q17 0 28.5 11.5T600-400v200h120v-360L480-740 240-560v360Zm-80 0v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H560q-17 0-28.5-11.5T520-160v-200h-80v200q0 17-11.5 28.5T400-120H240q-33 0-56.5-23.5T160-200Zm320-270Z"/></svg>
                <span>Home</span>
                </a>
            </li>
            <li>
                <a href="/savedRecipes">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24"><path d="M21 3h-7a2.98 2.98 0 0 0-2 .78A2.98 2.98 0 0 0 10 3H3a1 1 0 0 0-1 1v15a1 1 0 0 0 1 1h5.758c.526 0 1.042.214 1.414.586l1.121 1.121c.009.009.021.012.03.021.086.079.182.149.294.196h.002a.996.996 0 0 0 .762 0h.002c.112-.047.208-.117.294-.196.009-.009.021-.012.03-.021l1.121-1.121A2.015 2.015 0 0 1 15.242 20H21a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM8.758 18H4V5h6c.552 0 1 .449 1 1v12.689A4.032 4.032 0 0 0 8.758 18zM20 18h-4.758c-.799 0-1.584.246-2.242.689V6c0-.551.448-1 1-1h6v13z"></path></svg>
                    <span>Recipes</span>
                    </a>
            </li>
            <li class="active">
                <a href="/pantry">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#EFEFEF"><path d="M120-640h720v360q0 50-35 85t-85 35H240q-50 0-85-35t-35-85v-360Zm80 80v280q0 17 11.5 28.5T240-240h480q17 0 28.5-11.5T760-280v-280H200Zm-80-120v-80h240v-40q0-17 11.5-28.5T400-840h160q17 0 28.5 11.5T600-800v40h240v80H120Zm360 280Z"/></svg>
                    <span>Pantry</span>
                    </a>
            </li>
            <li>
                <a href="/mealPlanner">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"><path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Zm280 240q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240Z"/></svg>
                    <span>Meal Planner</span>
                    </a>
            </li>
    </nav>
    <main>
        <div class="pantry-container">
            <h1>Welcome to your pantry</h1>
            
            <div class="add-ingredient-form">
                <input type="text" id="ingredientInput" placeholder="Enter an ingredient...">
                <div class="quantity-section">
                    <input type="number" id="quantityInput" placeholder="Add quantity...">
                    <select id="unitSelect">
                        <option value="g">g</option>
                        <option value="kg">kg</option>
                        <option value="mg">mg</option>
                        <option value="L">L</option>
                        <option value="mL">mL</option>
                    </select>
                </div>
                <button onclick="addIngredient()" class="add-btn">Add Ingredient</button>
            </div>
        
            <div class="pantry-list">
                <% if (pantryItems && pantryItems.length > 0) { %>
                    <% pantryItems.forEach(item => { %>
                        <div class="ingredient-card" data-id="<%= item._id %>">
                            <div class="ingredient-info">
                                <h3><%= item.name %></h3>
                                <div class="quantity-display">
                                    <span class="quantity"><%= item.amount %></span>
                                    <span class="unit"><%= item.unit %></span>
                                </div>
                            </div>
                            <div class="ingredient-actions">
                                <button onclick="editIngredient(this)" class="edit-btn">Edit</button>
                                <button onclick="deleteIngredient(this)" class="delete-btn">Ã—</button>
                            </div>
                        </div>
                    <% }); %>
                <% } else { %>
                    <p>No ingredients in your pantry yet!</p>
                <% } %>
            </div>
        </div>
    </main>
</body>
</html>